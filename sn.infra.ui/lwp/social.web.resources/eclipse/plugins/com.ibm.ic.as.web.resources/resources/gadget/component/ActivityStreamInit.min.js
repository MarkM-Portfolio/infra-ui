/* Copyright IBM Corp. 2015  All Rights Reserved.                    */
define("dojo dojo/_base/array dojo/_base/lang dojo/_base/window dojo/dom-geometry dojo/io-query dojo/topic dojo/ready ic-as/gadget/ASComponentUtil ic-as/util/xhr/XhrHandler".split(" "),function(z,k,l,m,n,p,q,f,r,s){(function(t){function u(){if(window.location.search)var c=window.location.search.substring(1,window.location.search.length);var a={getString:function(a,b){return this[a]?this[a]:b},getBool:function(a,b){var c=this.getString(a);return c&&"true"===c?!0:b?b:!1}};c&&l.mixin(a,p.queryToObject(c));
asc={};asc.isDebug=a.getBool("debug",!1);asc.isDebugFF=a.getBool("debugFF",!1);asc.showSharebox=a.getBool("showSharebox",!1);asc.isInlineCommentingEnabled=a.getBool("isInlineCommentingEnabled",!1);asc.shareboxBoardId=a.getString("shareboxBoardId","");asc.shareboxPostType=a.getString("shareboxPostType","");asc.showFeedLink=a.getBool("showFeedLink",!1);asc.showHeader=a.getBool("showHeader",!1);asc.asMaxWidth=a.getString("asMaxWidth","");asc.asMinWidth=a.getString("asMinWidth","");asc.isCommunityStream=
a.getBool("isCommunityStream",!1);asc.asFeed=a.getString("asFeed",null);asc.asMode=a.getString("asMode",null);asc.userEmail=a.getString("actionEmail",null);asc.asConfig=a.getString("asConfig",null);asc.getProxiedUrl=function(a){return a};asc.currentView=a.getString("currentView","narrow");asc.isRTL=a.getBool("isRTL",!1);asc.theme=a.getString("asTheme","gen4");asc.count=a.getString("count",null);asc.dynamicHeight=a.getBool("dynamicHeight",!1);asc.log=function(a){var b=console.debug||console.log;return b&&
"[object Function]"===asc.toString.call(b)&&b.apply?function(){b.apply(console,arguments)}:function(){b(Array.prototype.slice.call(arguments))}}();asc.log("ActivityStream.html - gettin' goin'. asc: ",asc);asc.type=asc.currentView;asc.log("ActivityStream.html - curViewName: ",asc.currentView);asc.log("ActivityStream.html - asc.isRTL = ",asc.isRTL);asc.versionStamp=g;e.activityStreamCss=["/web/_style?include=com.ibm.lconn.core.styles.oneui3/base/package3"+(asc.isRTL?"RTL":"")+".css{etag}","/web/_style?include=com.ibm.lconn.core.styles.oneui3/sprites"+
(asc.isRTL?"RTL":"")+".css{etag}","/web/_lconntheme/{theme}"+(asc.isRTL?"RTL":"")+".css?{etag}&version=oneui3","/web/_lconnappstyles/{theme}/homepage"+(asc.isRTL?"RTL":"")+".css?{etag}&version=oneui3","/web/_lconnappstyles/{theme}/activityStream"+(asc.isRTL?"RTL":"")+".css?{etag}&version=oneui3","/web/_style?include=com.ibm.social.as/gadget/css/gadgetOverride"+(asc.isRTL?"RTL":"")+".css{etag}"];"narrow"===asc.type&&e.activityStreamCss.push("/web/_style?include=com.ibm.social.as/gadget/css/componentOverrideNarrow"+
(asc.isRTL?"RTL":"")+".css{etag}")}function v(){var c=document.getElementsByTagName("head")[0];w(e&&e.activityStreamCss||[],function(a){var d=asc.isRTL,b=null;a=a.replace("{_rtl}",d?"_RTL":"");a=a.replace("{rtl}",d?"RTL":"");a=a.replace("{rtlTF}",d?"&rtl=true":"&rtl=false");a=a.replace("{theme}",asc.theme);a=a.replace("{etag}","&etag="+g);b=document.createElement("link");b.href="/connections/resources"+a;b.type="text/css";b.rel="stylesheet";c.appendChild(b)})}function w(c,a){if(c&&a){var d,b=c.length;
for(d=0;d<b;d++)a(c[d],d)}}function x(){q.subscribe("com/ibm/social/as/event/resizeTextHeight",y)}function y(){var c=0;k.forEach(m.body().childNodes,function(a){a.getBoundingClientRect&&(a=n.position(a,!0),c=Math.max(c,Math.floor(a.y+a.h)))});c+=20;window.parent&&window.parent.postMessage&&window.parent.postMessage("com/ibm/social/height_changed|"+c+"px","*")}var h,g=lconn.core.config.versionStamp?lconn.core.config.versionStamp:"1234567890",e={};h=function(){asc.log("ActivityStream.html - bootAS - entering");
asc.util=new r;asc.util.initLogger();s.init({isGadget:!1,useOauth:asc.useOAuth});asc.util.initAS();asc.log("ActivityStream.html - bootAS - exiting, asc: ",asc)};t.start=function(){u();v();f(h);asc.dynamicHeight&&f(x);asc.log("ActivityStream.html - beginning fetch of AS JS")}})(com.ibm.social.as.gadget.component.ActivityStreamInit);return com.ibm.social.as.gadget.component.ActivityStreamInit});
