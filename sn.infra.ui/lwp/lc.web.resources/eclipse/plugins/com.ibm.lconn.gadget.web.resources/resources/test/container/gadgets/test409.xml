<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright IBM Corp. 2011, 2015  All Rights Reserved.              -->

<Module>
	<ModulePrefs title="Test 409 Response" description="Test 409 Responset" height="400" width="500">
	<Require feature="views"/>
</ModulePrefs>
<Content type="html" view="default"><![CDATA[
     <script type="text/javascript">
     	function returnResponse(resp) {
     		document.getElementById("response").innerHTML = resp.rc;
     		document.getElementById("dataSpan").innerHTML = resp.text;
     	}
     	  	
     	function doRequest() {
     		gadgets.util.getUrlParameters()['nocache'] = 0;
     	
     		var url = "http://ahernw520.dyn.webahead.ibm.com:9080/connections/resources/ic/forms/test/do409.jsp";
     		var params = {};
     		var headers = {"Content-Type": "application/atom+xml;charset=\"UTF-8\""};
     		params[gadgets.io.RequestParameters.AUTHORIZATION] = "sso";
			params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.TEXT;
			params[gadgets.io.RequestParameters.REFRESH_INTERVAL] = -1;
			params[gadgets.io.RequestParameters.METHOD] = "POST";
			params[gadgets.io.RequestParameters.GET_FULL_HEADERS] = true;
			params[gadgets.io.RequestParameters.HEADERS] = headers;
			params[gadgets.io.RequestParameters.POST_DATA] = "<foo><bar/></foo>";
			params[gadgets.io.RequestParameters.SIGN_OWNER] = true;
			params[gadgets.io.RequestParameters.SIGN_VIEWER] = true;
			params[gadgets.io.RequestParameters.GET_SUMMARIES] = false;
			gadgets.io.makeRequest(url, returnResponse, params);
     	}
     	
     	gadgets.util.registerOnLoadHandler(doRequest);
   	 </script>
   	 
   	 <div id="hello">
	 	<h3>409 response test</h3>
	 	<br/>
	 	Response code received is: <span id="response"></span>
	 	<br/>
	 	Response data is: <span id="dataSpan"></span>
	 </div>
  ]]></Content>
</Module>
