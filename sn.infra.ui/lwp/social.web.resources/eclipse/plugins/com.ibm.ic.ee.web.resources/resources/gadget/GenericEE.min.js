/* Copyright IBM Corp. 2015  All Rights Reserved.                    */
define("dojo dojo/query dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/string dojo/text!ic-ee/gadget/templates/genericee.html dojo/topic ic-ee/gadget/_HistoryMixin ic-ee/gadget/_EEGadgetWidget ic-ee/track/generic ic-core/globalization/bidiUtil ic-incontext/util/DateFormat ic-incontext/util/html ic-incontext/util/misc ic-incontext/util/text".split(" "),function(r,d,g,h,k,e,l,m,n,s,t,u,p,v,q,w,f){(function(){var b=com.ibm.social.ee.gadget;g("com.ibm.social.ee.gadget.GenericEE",
[b._EEGadgetWidget,b._HistoryMixin],{templateString:m,context:null,loadData:function(){this.initializeUI();this.onLoaded()},postMixInProperties:function(){this.inherited(arguments);this.context.itemUrl||(this.context.itemUrl="javascript:;");this.context.iconUrl||(this.context.iconUrl="")},initializeUI:function(){this.inherited(arguments);this.setTitle();this.setContentData();this.initializeHistoryTab();this.initializeHistory().addCallback(h.hitch(this,function(){this.onSizeChange()}));p.enforceTextDirectionOnPage(this.titleNode.parentNode);
this.notifyLoaded()},getHistoryTab:function(){return this.historyTabContainer},getHistoryContainer:function(){return this.historyCtnr},getId:function(){return this.context.id},notifyLoaded:function(){n.publish("social/ee/generic/load",this.context,this.network,this.routes.oauth)},_removeATags:function(a){a=e.create("div",{innerHTML:a});d("a",a).forEach(function(a,c,d){e.place(a.innerHTML,a,"replace")});return a.innerHTML},setTitle:function(){var a=q.decodeHtml(this.context.title)||this.nls.generic.untitled;
k.set(this.titleNode,"title",l.substitute(this.nls.generic.titleTooltip,{app:a}));a=this.context.title||this.context.eventTitle||this.nls.generic.untitled;a=this._removeATags(a);this.titleNode.innerHTML=a;f.breakStringHTML(this.titleNode);this.context.iconUrl||(this.iconNode.style.display="none")},setContentData:function(){var a=this.context.summary;if(a){var b=this.contentArea,c=e.create("span");c.innerHTML=a;d("a",c).attr("target","_blank");f.breakStringHTML(c,15);b.appendChild(c);b.style.display=
""}}})})();return GenericEE});
