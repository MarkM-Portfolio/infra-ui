<?xml version="1.0" encoding="UTF-8"?>
<widgets xmlns="http://www.ibm.com/widgets-config" xmlns:tns="http://www.ibm.com/widgets-config">
    <definitions>
        <widgetDef defId="Members" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_membership_view.html" modes="view fullpage" primaryWidget="false" showInPalette="false" themes="wpthemeThin wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/communityMembers/communityMembers.xml?etag={version}">
            <itemSet>
                <item name="membersPerPage" value="12"/>
                <item name="membersPerPageFullPage" value="16"/>
            </itemSet>
        </widgetDef>
        <widgetDef defId="MembersSummary" description="memberSummaryDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_membership_view.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/CommunitiesGray16.png" modes="view" primaryWidget="false" showFullWidgetDeleteConfirmation="false" showInPalette="true" themes="wpthemeNarrow wpthemeWide wpthemeThin wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/communityMembers/communityMembers.xml?etag={version}">
            <itemSet>
                <item name="membersPerPage" value="16"/>
                <item name="membersPerPageFullPage" value="16"/>
            </itemSet>
        </widgetDef>
        <!-- Communities test widget -->
        <widgetDef defId="Blog" description="blogsDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_blog_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/BlogsGray16.png" modes="view edit search" navBarLink="{blogsSvcRef}/{resourceId}" prerequisite="blogs" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{blogsSvcRef}/static/{version}!{locale}/iwidgets/blog/blogsWidget.jsp">
            <itemSet>
                <item name="lang" value="{lang}"/>
                <item name="communitiesBaseUrl" value="{communitiesSvcRef}"/>
                <item name="blogsBaseUrl" value="{blogsSvcRef}"/>
                <item name="staticLanguageRoot" value="{blogsSvcRef}/static/{version}!{locale}"/>
                <item name="profilesBaseUrl" value="{profilesSvcRef}"/>
                <item name="atomFeedUrl" value="{blogsSvcRef}/atom_form/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="atomFeedUrl.basic" value="{blogsSvcRef}/atom/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="atomFeedUrl.oauth" value="{blogsSvcRef}/oauth/atom/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="atomPubUrl" value="{blogsSvcRef}/api_form/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="atomPubUrl.basic" value="{blogsSvcRef}/api/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="atomPubUrl.oauth" value="{blogsSvcRef}/oauth/api/blogs?commUuid={resourceId}&amp;blogType=communityblog"/>
                <item name="searchUrl" value="{blogsSvcRef}/atom_form?search={searchTerm}&amp;commUuid={resourceId}&amp;t=entry&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
                <item name="searchUrl.basic" value="{blogsSvcRef}/atom?search={searchTerm}&amp;commUuid={resourceId}&amp;t=entry&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
                <item name="searchUrl.oauth" value="{blogsSvcRef}/oauth/atom?search={searchTerm}&amp;commUuid={resourceId}&amp;t=entry&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{blogsInterSvcRef}/roller-ui/BlogsWidgetEventHandler.do">
                <event>widget.added</event>
                <event>widget.removed</event>
                <event>community.visibility.changed</event>
                <event>community.prepare.delete</event>
                <event>remote.app.transfer</event>
                <event>community.updated</event>
                <event>community.org.changed</event>
                <event>community.members.added</event>
                <event>community.members.removed</event>
                <event>community.members.modified</event>
                <event>community.softdeleted</event>
            </lifecycle>
        </widgetDef>
        <!-- for support multiple ideation blog 
            <widgetDef defId="IdeationBlog" prerequisite="blogs" modes="view edit fullpage search" url="{blogsSvcRef}/static/{version}!{locale}/iwidgets/ideationblog/Ideations.xml"
				themes="wpthemeWide wpthemeNarrow wpthemeBanner"
                description="ideationBlogsDescription" uniqueInstance="true"
                helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/ideationblog_frame.html"
                iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/BlogsGray16.png">
			-->
        <widgetDef defId="IdeationBlog" description="ideationBlogsDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/ideationblog_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/BlogsGray16.png" modes="view edit fullpage search" prerequisite="blogs" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{blogsSvcRef}/static/{version}!{locale}/iwidgets/ideationblog/Ideations.xml">
            <itemSet>
                <item name="lang" value="{lang}"/>
                <item name="communitiesBaseUrl" value="{communitiesSvcRef}"/>
                <item name="blogsBaseUrl" value="{blogsSvcRef}"/>
                <item name="staticLanguageRoot" value="{blogsSvcRef}/static/{version}!{locale}"/>
                <item name="profilesBaseUrl" value="{profilesSvcRef}"/>
                <item name="atomFeedUrl" value="{blogsSvcRef}/atom_form/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="atomFeedUrl.basic" value="{blogsSvcRef}/atom/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="atomFeedUrl.oauth" value="{blogsSvcRef}/oauth/atom/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="atomPubUrl" value="{blogsSvcRef}/api_form/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="atomPubUrl.basic" value="{blogsSvcRef}/api/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="atomPubUrl.oauth" value="{blogsSvcRef}/oauth/api/blogs?commUuid={resourceId}&amp;blogType=ideationblog"/>
                <item name="searchUrl" value="{blogsSvcRef}/atom_form?search={searchTerm}&amp;commUuid={resourceId}&amp;t=idea&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
                <item name="searchUrl.basic" value="{blogsSvcRef}/atom?search={searchTerm}&amp;commUuid={resourceId}&amp;t=idea&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
                <item name="searchUrl.oauth" value="{blogsSvcRef}/oauth/atom?search={searchTerm}&amp;commUuid={resourceId}&amp;t=idea&amp;ps=5&amp;page=0&amp;sortby=0&amp;order=desc&amp;lang=en"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{blogsInterSvcRef}/roller-ui/BlogsWidgetEventHandler.do">
                <event>widget.added</event>
                <event>widget.removed</event>
                <event>community.visibility.changed</event>
                <event>community.prepare.delete</event>
                <event>remote.app.transfer</event>
                <event>community.updated</event>
                <event>community.members.added</event>
                <event>community.members.removed</event>
                <event>community.members.modified</event>
                <event>community.softdeleted</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="Activities" description="commActivitesDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_activity_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/ActivitiesGray16.png" modes="view edit fullpage search" prerequisite="activities" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.communityactivities/ActivityList.xml?etag={version}">
            <itemSet>
                <item name="activityBaseUrl" value="{activitiesSvcRef}"/>
                <item name="atomPubUrl" value="{activitiesSvcRef}/service/atom2/service?commUuid={resourceId}"/>
                <item name="atomFeedUrl" value="{activitiesSvcRef}/service/atom2/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no"/>
                <item name="searchUrl" value="{activitiesSvcRef}/service/atom2/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no&amp;search={searchTerm}"/>
                <item name="atomPubUrl.forms" value="{activitiesSvcRef}/service/atom2/forms/service?commUuid={resourceId}"/>
                <item name="atomFeedUrl.forms" value="{activitiesSvcRef}/service/atom2/forms/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no"/>
                <item name="searchUrl.forms" value="{activitiesSvcRef}/service/atom2/forms/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no&amp;search={searchTerm}"/>
                <item name="atomPubUrl.oauth" value="{activitiesSvcRef}/oauth/atom2/service?commUuid={resourceId}"/>
                <item name="atomFeedUrl.oauth" value="{activitiesSvcRef}/oauth/atom2/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no"/>
                <item name="searchUrl.oauth" value="{activitiesSvcRef}/oauth/atom2/activities?commUuid={resourceId}&amp;public=yes&amp;authenticate=no&amp;search={searchTerm}"/>
                <item name="activitiesPerPage" value="5"/>
                <item name="activitiesPerPageFullpage" value="10"/>
                <item name="numHistoryItems" value="3"/>
                <item name="cPath" value="{contextRoot}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{activitiesInterSvcRef}/service/atom2/forms/communityEvent">
                <event>remote.app.removed</event>
                <event>remote.app.added</event>
                <event doesNotRequireWidget="true">community.visibility.changed</event>
                <event doesNotRequireWidget="true">community.prepare.delete</event>
                <event>remote.app.transfer</event>
                <event doesNotRequireWidget="true">community.updated</event>
                <event doesNotRequireWidget="true">community.members.removed</event>
                <event doesNotRequireWidget="true">community.org.changed</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="Wiki" description="wikiDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_wiki_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/WikisGray16.png" modes="view search edit" navBarLink="{wikisSvcRef}/communitywiki?communityUuid={resourceId}" prerequisite="wikis" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{wikisSvcRef}/static/iwidgets/{version}/CommunityWidget/WikiWidget.xml">
            <itemSet>
                <item name="wikisRoot" value="{wikisSvcRef}"/>
                <item name="atomPubUrl" value="{wikisSvcRef}/form/api/community/{resourceId}/introspection"/>
                <item name="atomPubUrl.basic" value="{wikisSvcRef}/basic/api/community/{resourceId}/introspection"/>
                <item name="atomPubUrl.oauth" value="{wikisSvcRef}/oauth/api/community/{resourceId}/introspection"/>
                <item name="atomFeedUrl" value="{wikisSvcRef}/form/api/communitywiki/{resourceId}/feed"/>
                <item name="atomFeedUrl.basic" value="{wikisSvcRef}/basic/api/communitywiki/{resourceId}/feed"/>
                <item name="atomFeedUrl.oauth" value="{wikisSvcRef}/oauth/api/communitywiki/{resourceId}/feed"/>
                <item name="searchUrl" value="{wikisSvcRef}/form/api/communitywiki/{resourceId}/feed?search={searchTerm}"/>
                <item name="searchUrl.basic" value="{wikisSvcRef}/basic/api/communitywiki/{resourceId}/feed?search={searchTerm}"/>
                <item name="searchUrl.oauth" value="{wikisSvcRef}/oauth/api/communitywiki/{resourceId}/feed?search={searchTerm}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{wikisInterSvcRef}/wl/lifecycle/wikis">
                <event>widget.added</event>
                <event>widget.removed</event>
                <event>community.visibility.changed</event>
                <event>community.updated</event>
                <event>community.prepare.delete</event>
                <event>remote.app.transfer</event>
                <event>community.members.removed</event>
                <event>community.org.changed</event>
                <event>community.softdeleted</event>
                <event>community.restored</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="Forum" description="forumDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_forum_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/ForumsGray16.png" modes="view edit fullpage search" prerequisite="forums" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.forums/widgets/topicList.xml?etag={version}">
            <itemSet>
                <item name="contextPath" value="{contextRoot}"/>
                <item name="atomPubUrl" value="{forumsSvcRef}/atom/forms/service?communityUuid={resourceId}"/>
                <item name="atomPubUrl.basic" value="{forumsSvcRef}/atom/service?communityUuid={resourceId}"/>
                <item name="atomPubUrl.oauth" value="{forumsSvcRef}/oauth/atom/service?communityUuid={resourceId}"/>
                <item name="atomFeedUrl" value="{forumsSvcRef}/atom/forms/topics?communityUuid={resourceId}"/>
                <item name="atomFeedUrl.basic" value="{forumsSvcRef}/atom/topics?communityUuid={resourceId}"/>
                <item name="atomFeedUrl.oauth" value="{forumsSvcRef}/oauth/atom/topics?communityUuid={resourceId}"/>
                <item name="searchUrl" value="{forumsSvcRef}/atom/forms/topics?communityUuid={resourceId}&amp;search={searchTerm}"/>
                <item name="searchUrl.basic" value="{forumsSvcRef}/atom/topics?communityUuid={resourceId}&amp;search={searchTerm}"/>
                <item name="searchUrl.oauth" value="{forumsSvcRef}/oauth/atom/topics?communityUuid={resourceId}&amp;search={searchTerm}"/>
                <item name="topicFeedPath" value="{forumsSvcRef}/atom/forms/topics?overview=true&amp;communityUuid={resourceId}"/>
                <item name="overviewPageSize" value="5"/>
                <item name="fullpagePageSize" value="25"/>
                <item name="forumsPage" value="{forumsSvcRef}/ajax/comm/forums?communityId={resourceId}"/>
                <item name="forumStyles" value="{webresourcesSvcRef}/web/com.ibm.lconn.core.styles/base/applications/forums.css?etag={version}"/>
                <item name="forumsContextPath" value="{forumsSvcRef}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{forumsInterSvcRef}/lifecycle/communityEvent">
                <event>remote.app.added</event>
                <event>remote.app.removed</event>
                <event>community.prepare.delete</event>
                <event>community.visibility.changed</event>
                <event>community.updated</event>
                <event>community.members.added</event>
                <event>community.members.removed</event>
                <event>remote.app.transfer</event>
                <event>community.org.changed</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="SubcommunityNav" description="subcommunityDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_create_subcommunity.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/CommunitiesGray16.png" modes="view" showFullWidgetDeleteConfirmation="false" themes="wpthemeWide wpthemeNarrow wpthemeThin wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/widgets/subcommunityNav/subcommunitynav.xml?etag={version}">
            <itemSet>
                <item name="subcommunitiesFeedUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/subcommunities?communityUuid={resourceId}&amp;ps=200"/>
                <item name="defaultView" value="images"/>
            </itemSet>
        </widgetDef>
        <widgetDef defId="Bookmarks" description="commBookmarks" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_bookmarks_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/BookmarksGray16.png" modes="view search" navBarLink="{contextRoot}/service/html/community/bookmarks?communityUuid={resourceId}" themes="wpthemeWide wpthemeNarrow wpthemeThin wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/widgets/feedReader/feedreader.xml?etag={version}">
            <itemSet>
                <item name="widgetType" value="bookmarks"/>
                <item name="feedUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/bookmarks?communityUuid={resourceId}&amp;ps=5"/>
                <item name="atomPubUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/bookmarks/service?communityUuid={resourceId}"/>
                <item name="searchUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/bookmarks?communityUuid={resourceId}&amp;search={searchTerm}"/>
            </itemSet>
            <lifecycle handler="com.ibm.lconn.comm.lifecycle.ReferencesLifecycleHandler">
                <event>remote.app.removed</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="ImportantBookmarks" description="importantBookmarksDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_bookmarks_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/BookmarksGray16.png" modes="view" primaryWidget="false" showFullWidgetDeleteConfirmation="false" themes="wpthemeNarrow wpthemeWide wpthemeThin wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/importantBookmarks/importantBookmarks.xml?etag={version}"/>
        <widgetDef defId="Tags" description="tagsDescription" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/tag_32.png" modes="view" primaryWidget="false" showFullWidgetDeleteConfirmation="false" showInPalette="true" themes="wpthemeNarrow wpthemeWide wpthemeThin wpthemeBanner" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/tags/tags.xml?etag={version}"/>
        <widgetDef defId="description" description="descriptionDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_edit.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/CommunitiesGray16.png" modes="view edit" primaryWidget="true" showFullWidgetDeleteConfirmation="false" themes="wpthemeWide wpthemeBanner wpthemeNarrow wpthemeThin" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/description/description.xml?etag={version}"/>
        <widgetDef defId="Feeds" description="commFeeds" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_feeds_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/Other/FeedGray16.png" modes="view search" navBarLink="{contextRoot}/service/html/community/feeds?communityUuid={resourceId}" themes="wpthemeWide wpthemeBanner wpthemeThin wpthemeNarrow" uniqueInstance="true" url="{webresourcesSvcRef}/web/lconn.comm/widgets/feedReader/feedreader.xml?etag={version}">
            <itemSet>
                <item name="widgetType" value="feeds"/>
                <item name="feedUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/feeds?communityUuid={resourceId}&amp;ps=5"/>
                <item name="atomPubUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/feeds/service?communityUuid={resourceId}"/>
                <item name="searchUrl" value="{communitiesSvcRef}/service/atom{authSubpath}/community/feeds?communityUuid={resourceId}&amp;search={searchTerm}"/>
            </itemSet>
            <lifecycle handler="com.ibm.lconn.comm.lifecycle.ReferencesLifecycleHandler">
                <event>remote.app.removed</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="Files" description="filesDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_files_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/FilesGray16.png" modes="view fullpage search edit" prerequisite="files" themes="wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{filesSvcRef}/static/{version}!{locale}/iwidgets/CommunityReferentialWidget/widget.xml">
            <itemSet>
                <item name="filesRoot" value="{filesSvcRef}"/>
                <item name="filesJsRoot" value="{filesSvcRef}/static/js/{version}!{locale}"/>
                <item name="contextRoot" value="{contextRoot}"/>
                <item name="staticLanguageRoot" value="{filesSvcRef}/static/{version}!{locale}/"/>
                <item name="atomPubUrl" value="{filesSvcRef}/form/api/community/{resourceId}/introspection"/>
                <item name="atomPubUrl.basic" value="{filesSvcRef}/basic/api/community/{resourceId}/introspection"/>
                <item name="atomPubUrl.oauth" value="{filesSvcRef}/oauth/api/community/{resourceId}/introspection"/>
                <item name="atomFeedUrl" value="{filesSvcRef}/form/api/communitycollection/{resourceId}/feed"/>
                <item name="atomFeedUrl.basic" value="{filesSvcRef}/basic/api/communitycollection/{resourceId}/feed"/>
                <item name="atomFeedUrl.oauth" value="{filesSvcRef}/oauth/api/communitycollection/{resourceId}/feed"/>
                <item name="searchUrl" value="{filesSvcRef}/form/api/communitylibrary/{resourceId}/feed?search={searchTerm}"/>
                <item name="searchUrl.basic" value="{filesSvcRef}/basic/api/communitylibrary/{resourceId}/feed?search={searchTerm}"/>
                <item name="searchUrl.oauth" value="{filesSvcRef}/oauth/api/communitylibrary/{resourceId}/feed?search={searchTerm}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{filesInterSvcRef}/wl/lifecycle/files">
                <event>widget.added</event>
                <event>widget.removed</event>
                <event doesNotRequireWidget="true">community.visibility.changed</event>
                <event doesNotRequireWidget="true">community.updated</event>
                <event doesNotRequireWidget="true">community.prepare.delete</event>
                <event doesNotRequireWidget="true">community.org.changed</event>
                <event>remote.app.transfer</event>
                <event doesNotRequireWidget="true">community.members.removed</event>
                <event doesNotRequireWidget="true">community.softdeleted</event>
                <event doesNotRequireWidget="true">community.restored</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="widgetPalette" resourceOwnerWidget="true" showInPalette="false" themes="wpthemeBanner" url="{webresourcesSvcRef}/web/lconn.comm/widgets/applicationPalette/applicationPalette.xml?etag={version}"/>
        <widgetDef bundleRefId="lc_sand" defId="sand_recomComm" displayLoginRequired="true" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_using_recommended_comms_widget.html" prerequisite="sand" primaryWidget="false" showInPalette="false" themes="wpthemeNarrow" url="{webresourcesSvcRef}/web/lconn.sand/descriptors/CommunityRecommend.xml?etag={version}">
            <itemSet>
                <item name="sandUIRoot" value="{webresourcesSvcRef}/web/lconn.sand/"/>
                <item name="sandBackEndRoot" value="{searchSvcRef}"/>
                <item name="sourceList" value="communities"/>
                <item name="ApiUrl" value="{searchSvcRef}/atom/social/recommend"/>
                <item name="navContentLocation" value="{contextRoot}/nav"/>
                <item name="xhrErrorHandlerAsString" value="lconn.core.errorhandling.DefaultXHRErrorHandler"/>
            </itemSet>
        </widgetDef>
        <widgetDef bundleRefId="lc_clib" defId="Gallery" description="Gallery.description" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/gallery_frame.html" iconUrl="{webresourcesSvcRef}/web/lconn.gallery/images/gallery_16.png" modes="view edit" prerequisite="files" primaryWidget="false" showFullWidgetDeleteConfirmation="false" themes="wpthemeThin wpthemeNarrow wpthemeWide wpthemeBanner" url="{webresourcesSvcRef}/web/lconn.gallery/Gallery.xml?etag={version}"/>
        <widgetDef defId="Calendar" description="calendarDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/community_events_frame.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/CalendarGray16.png" modes="view edit fullpage search" primaryWidget="false" showInPalette="true" themes="wpthemeThin wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{communitiesSvcRef}/calendar/Calendar.xml?version={version}">
            <itemSet>
                <item name="calendarRoot" value="{communitiesSvcRef}/calendar"/>
                <item name="communitiesBaseUrl" value="{communitiesSvcRef}"/>
                <item name="defaultView" value="list"/>
                <item name="version" value="{version}"/>
                <item name="profilesBaseUrl" value="{profilesSvcRef}"/>
                <item name="atomPubUrl" value="{communitiesSvcRef}/calendar/atom_form/calendar/service?calendarUuid={resourceId}"/>
                <item name="atomPubUrl.basic" value="{communitiesSvcRef}/calendar/atom/calendar/service?calendarUuid={resourceId}"/>
                <item name="atomPubUrl.oauth" value="{communitiesSvcRef}/calendar/oauth/atom/calendar/service?calendarUuid={resourceId}"/>
                <item name="atomFeedUrl" value="{communitiesSvcRef}/calendar/atom_form/calendar/event?type=event&amp;calendarUuid={resourceId}"/>
                <item name="atomFeedUrl.basic" value="{communitiesSvcRef}/calendar/atom/calendar/event?type=event&amp;calendarUuid={resourceId}"/>
                <item name="atomFeedUrl.oauth" value="{communitiesSvcRef}/calendar/oauth/atom/calendar/event?type=event&amp;calendarUuid={resourceId}"/>
                <item name="searchUrl" value="{communitiesSvcRef}/calendar/atom_form/search?search={searchTerm}&amp;calendarUuid={resourceId}"/>
                <item name="searchUrl.basic" value="{communitiesSvcRef}/calendar/atom/search?search={searchTerm}&amp;calendarUuid={resourceId}"/>
                <item name="searchUrl.oauth" value="{communitiesSvcRef}/calendar/oauth/atom/search?search={searchTerm}&amp;calendarUuid={resourceId}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{communitiesInterSvcRef}/calendar/handleEvent">
                <event>remote.app.added</event>
                <event>remote.app.removed</event>
                <event>community.prepare.delete</event>
                <event>community.visibility.changed</event>
                <event>community.updated</event>
                <event>community.members.added</event>
                <event>community.members.removed</event>
                <event>community.members.modified</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="RecentUpdates" description="updatesDescription" fixedPosition="true" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_updates.html" modes="view" navBarLink="{contextRoot}/service/html/community/updates?communityUuid={resourceId}&amp;filter=all" showInPalette="false" themes="wpthemeWide" uniqueInstance="true" url="{webresourcesSvcRef}/web/com.ibm.social.as.lconn/widgets/communitiesActivityStream.xml?etag={version}">
            <itemSet>
                <item name="atomFeedUrl" value="{opensocialSvcRef}/rest/ublog/c!{resourceId}/@all?format=atom"/>
                <item name="atomFeedUrl.basic" value="{opensocialSvcRef}/basic/rest/ublog/c!{resourceId}/@all?format=atom"/>
                <item name="atomFeedUrl.oauth" value="{opensocialSvcRef}/oauth/rest/ublog/c!{resourceId}/@all?format=atom"/>
            </itemSet>
        </widgetDef>
        <widgetDef defId="StatusUpdates" description="updatesDescription" fixedPosition="true" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_share_status.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/StatusUpdateGray16.png" modes="view edit search" navBarLink="{contextRoot}/service/html/community/updates?communityUuid={resourceId}&amp;filter=status" prerequisite="microblogging" showInPalette="true" themes="wpthemeWide" uniqueInstance="true" url="{webresourcesSvcRef}/web/com.ibm.social.as.lconn/widgets/communitiesActivityStream.xml?etag={version}">
            <itemSet>
                <item name="atomFeedUrl" value="{opensocialSvcRef}/rest/ublog/urn:lsid:lconn.ibm.com:communities.community:{resourceId}/@all?format=atom"/>
                <item name="atomFeedUrl.basic" value="{opensocialSvcRef}/basic/rest/ublog/urn:lsid:lconn.ibm.com:communities.community:{resourceId}/@all?format=atom"/>
                <item name="atomFeedUrl.oauth" value="{opensocialSvcRef}/oauth/rest/ublog/urn:lsid:lconn.ibm.com:communities.community:{resourceId}/@all?format=atom"/>
                <item name="searchUrl" value="{searchSvcRef}/atomfba/mysearch/results?scope=status_updates&amp;social=%7B%22type%22%3A%22community%22%2C%22id%22%3A%22{resourceId}%22%7D&amp;query={searchTerm}"/>
                <item name="searchUrl.basic" value="{searchSvcRef}/atom/mysearch/results?scope=status_updates&amp;social=%7B%22type%22%3A%22community%22%2C%22id%22%3A%22{resourceId}%22%7D&amp;query={searchTerm}"/>
                <item name="searchUrl.oauth" value="{searchSvcRef}/oauth/atom/mysearch/results?scope=status_updates&amp;social=%7B%22type%22%3A%22community%22%2C%22id%22%3A%22{resourceId}%22%7D&amp;query={searchTerm}"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{newsInterSvcRef}/widget/communityHandler.do">
                <event>remote.app.added</event>
                <event>remote.app.removed</event>
                <event>remote.app.transfer</event>
                <event>community.visibility.changed</event>
                <event>community.updated</event>
                <event>community.org.changed</event>
                <event>community.prepare.delete</event>
            </lifecycle>
        </widgetDef>
        <widgetDef defId="RelatedCommunities" description="relatedCommunitiesDescription" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/t_com_share_related_communities.html" iconUrl="{webresourcesSvcRef}/web/com.ibm.oneui3.styles/imageLibrary/Icons/ComponentsGray/CommunitiesGray16.png" modes="view fullpage" primaryWidget="false" showInPalette="true" themes="wpthemeThin wpthemeNarrow wpthemeWide wpthemeBanner" uniqueInstance="true" url="{communitiesSvcRef}/recomm/Recomm.xml?version={version}">
            <itemSet>
                <item name="recommRoot" value="{communitiesSvcRef}/recomm"/>
                <item name="communitiesBaseUrl" value="{communitiesSvcRef}"/>
                <item name="version" value="{version}"/>
                <item name="atomPubUrl" value="{communitiesSvcRef}/recomm/atom_form/service?communityUuid={resourceId}"/>
                <item name="atomPubUrl.basic" value="{communitiesSvcRef}/recomm/atom/service?communityUuid={resourceId}"/>
                <item name="atomPubUrl.oauth" value="{communitiesSvcRef}/recomm/oauth/atom/service?communityUuid={resourceId}"/>
                <item name="feedUrl" value="{communitiesSvcRef}/recomm/atom_form/relatedCommunities?communityUuid={resourceId}&amp;ps=10"/>
                <item name="feedUrl.basic" value="{communitiesSvcRef}/recomm/atom/relatedCommunities?communityUuid={resourceId}&amp;ps=10"/>
                <item name="feedUrl.oauth" value="{communitiesSvcRef}/recomm/oauth/atom/relatedCommunities?communityUuid={resourceId}&amp;ps=10"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="connectionsAdmin" remoteHandlerURL="{communitiesInterSvcRef}/recomm/handleEvent">
                <event>remote.app.added</event>
                <event>remote.app.removed</event>
                <event>community.prepare.delete</event>
                <event>community.visibility.changed</event>
                <event>community.updated</event>
            </lifecycle>
        </widgetDef>
        <!-- 
		        The Linked Library widget allows you to connect to your existing IBM FileNet or IBM Content Manager document libraries.

  		    <widgetDef defId="CustomLibrary" bundleRefId="lc_clib" url="{webresourcesSvcRef}/web/quickr.lw/widgetDefs/LibraryWidget_QCS_Connections.xml?etag={version}"
		               description="CustomLibrary.description" modes="view edit fullpage" themes="wpthemeNarrow wpthemeWide wpthemeBanner" primaryWidget="false"
		               helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/c_com_library_frame.html"
		               iconUrl="{contextRoot}/nav/common/images/LinkedFiles.png"
					   showFullWidgetDeleteConfirmation="false">
		       <itemSet>
		           <item name="proxyUrl" value="{contextRoot}/commonProxy" />
		       </itemSet>
		    </widgetDef> 		
		    -->
        <widgetDef bundleRefId="lc_clib" defId="Library" description="Library.description" helpLink="{helpSvcRef}/topic/com.ibm.lotus.connections.communities.help/c_com_library_frame.html" iconUrl="{contextRoot}/nav/common/images/ManagedFiles.png" modes="view search edit fullpage" prerequisite="ecm_files" showInExternalCommunities="true" themes="wpthemeNarrow wpthemeWide wpthemeBanner" url="{webresourcesSvcRef}/web/quickr.lw/widgetDefs/LibraryWidget_QCS_Connections.xml?etag={version}">
            <itemSet>
                <item name="proxyUrl" value="{contextRoot}/commonProxy"/>
                <item name="isLifecycle" value="true"/>
            </itemSet>
            <lifecycle remoteHandlerAuthenticationAlias="filenetAdmin" remoteHandlerURL="{ecm_filesInterSvcRef}/atom/communities/feed">
                <event>widget.added</event>
                <event>widget.removed</event>
                <event>widget.renamed</event>
                <event>community.members.added</event>
                <event>community.members.removed</event>
                <event>community.members.modified</event>
                <event>community.visibility.changed</event>
                <event>community.prepare.delete</event>
                <event>community.updated</event>
            </lifecycle>
        </widgetDef>
    </definitions>
    <!-- mandated widgets -->
    <layout resourceSubType="default">
        <page pageId="communityOverview">
            <widgetInstance defIdRef="RecentUpdates" uiLocation="col2recentposts"/>
            <widgetInstance defIdRef="Members" uiLocation="none"/>
            <widgetInstance defIdRef="ImportantBookmarks" instanceId="We1b2655bd8b5_4ff7_845a_6832def1337d" uiLocation="col3"/>
            <widgetInstance defIdRef="MembersSummary" instanceId="W98b5ed4bcd4e_42af_84b5_ddd8e95f2f4f" uiLocation="col3"/>
            <widgetInstance defIdRef="StatusUpdates" instanceId="W5ff49d49eaba_4982_907d_8c4c4ee70159" uiLocation="col2statusposts">
                <itemSet>
                    <item name="objectIdentifyingId" value="d01a7bd1-19b8-4dcb-999b-2cfb4950b5d7"/>
                </itemSet>
            </widgetInstance>
            <widgetInstance defIdRef="description" instanceId="Wced910b14cf5_4426_9e57_00273552d50e" uiLocation="col2"/>
            <widgetInstance defIdRef="Forum" instanceId="W01e450af69c6_4e6b_a152_01bc9ac08a2a" uiLocation="col2"/>
            <widgetInstance defIdRef="Bookmarks" instanceId="W5117086d682a_47bc_8491_efceaa024600" uiLocation="col2"/>
            <widgetInstance defIdRef="Files" instanceId="W99821507936c_44de_9637_9acd747cda08" uiLocation="col2"/>
            <widgetInstance defIdRef="Tags" instanceId="W7905dafa2dc4_4402_a572_0f166d25d6a1" uiLocation="col1"/>
        </page>
        <page pageId="recentUpdates">
            <widgetInstance defIdRef="RecentUpdates" uiLocation="col2recentposts"/>
            <widgetInstance defIdRef="MembersSummary" uiLocation="col3"/>
        </page>
        <page pageId="statusUpdates">
            <widgetInstance defIdRef="MembersSummary" uiLocation="col3"/>
            <widgetInstance defIdRef="StatusUpdates" instanceId="W5ff49d49eaba_4982_907d_8c4c4ee70159" uiLocation="col2statusposts">
                <itemSet>
                    <item name="objectIdentifyingId" value="d01a7bd1-19b8-4dcb-999b-2cfb4950b5d7"/>
                </itemSet>
            </widgetInstance>
        </page>
        <page pageId="allCommunities">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="myCommunities">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="own">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="my">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="follow">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="invite">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="all">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="restricted">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
        <page pageId="trash">
            <widgetInstance defIdRef="sand_recomComm" uiLocation="col1"/>
        </page>
    </layout>
</widgets>
