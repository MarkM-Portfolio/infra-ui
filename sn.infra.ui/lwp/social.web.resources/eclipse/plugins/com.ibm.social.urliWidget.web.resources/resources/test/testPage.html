<!-- ***************************************************************** -->
<!--                                                                   -->
<!-- IBM Confidential                                                  -->
<!--                                                                   -->
<!-- OCO Source Materials                                              -->
<!--                                                                   -->
<!-- Copyright IBM Corp. 2015                                          -->
<!--                                                                   -->
<!-- The source code for this program is not published or otherwise    -->
<!-- divested of its trade secrets, irrespective of what has been      -->
<!-- deposited with the U.S. Copyright Office.                         -->
<!--                                                                   -->
<!-- ***************************************************************** -->

<html>
<head>
<title>A test frame</title>

<script type="text/javascript">
	console.log("loading iframe");
	
	window.onload = function() {
	
		document.getElementById("host").innerHTML = location.host;

		console.log("onload");

		try {
			window.addEventListener('message', function(evt) {
				console.log("Got msg");
				console.log(evt.data);
				document.getElementById("contextId").innerHTML = JSON.stringify(evt.data, null, 3);
			}, false);
		} catch (e) {
			console.log(e);
		}
		
		parent.postMessage("appReady", "*");

	}
</script>
</head>
<body>
	<p><img src="http://i.eindx.com/imagesvr_ce/6632/ibm-1874-bluemix_logo-230.gif" style="width: 100px; height: 100px" />
	<h2>A test application running at <span id="host"></span>.</h2> </p>
	
	<p> The following context is passed from Communities: </p>	
	<pre id="contextId"></pre>	
</body>
</html>